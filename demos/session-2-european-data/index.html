<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Session 2: Adding European Data | Pensieve - Contextual Scratchpad for AI Agents</title>
    <meta name="description" content="A contextual scratchpad for AI agents to capture and recall working knowledge across sessions.">
    <link rel="stylesheet" href="/pensieve/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="/" class="logo">Pensieve</a>
            <ul class="nav-links">

                <li><a href="/pensieve/">What?</a></li>

                <li><a href="/pensieve/why/">Why?</a></li>

                <li><a href="/pensieve/getting-started/">Getting Started</a></li>

                <li><a href="/pensieve/demos/">Showcase</a></li>

                <li><a href="/pensieve/reference/">Docs</a></li>

            </ul>
        </div>
    </nav>
    <main class="container">

<article>
    <h1>Session 2: Adding European Data</h1>
    <p>In this session, we add support for European order data. Watch how pensieve recalls the date parsing lesson from Session 1 and prevents us from making the same mistake.</p>
<div class="story">
<div class="story-turn user">
<div class="role">User</div>
<p>I need to add support for processing eu_orders.csv</p>
</div>
<div class="story-turn assistant">
<div class="role">Claude</div>
<p>I&rsquo;ll search for any relevant memories before starting.</p>
<pre tabindex="0"><code>$ pensieve entry search --limit 5

Found 1 entry:
  ID: 1a0501ad-48ad-41c2-b73a-c85d711dd6d2
  Template: pattern_discovered
  Tags: date-parsing, data-validation, csv
</code></pre><div class="insight">
<p>Found a relevant memory! Let me review it before proceeding with European data.</p>
</div>
<pre tabindex="0"><code>$ pensieve entry show 1a0501ad-...

Pattern: Date Parsing Ambiguity
Summary: Ambiguous date formats like MM/DD vs DD/MM can silently
corrupt data. Always require explicit locale/format specification.

When it applies: Any date parsing from external sources
Recommended approach: Use explicit DateFormat constants, never guess
</code></pre><p>This is directly relevant! The existing code already handles this with explicit <code>DateFormat.US</code> and <code>DateFormat.EU</code> constants. Let me check the current implementation&hellip;</p>
</div>
<div class="story-turn user">
<div class="role">User</div>
<p>Can you update main() to process the EU file too?</p>
</div>
<div class="story-turn assistant">
<div class="role">Claude</div>
<p>Based on the memory from our previous session, I know EU dates use DD/MM/YYYY format. The code already has <code>DateFormat.EU</code> - I just need to add the EU file processing with the correct format.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># EU orders data</span>
</span></span><span style="display:flex;"><span>eu_file <span style="color:#f92672">=</span> data_dir <span style="color:#f92672">/</span> <span style="color:#e6db74">&#34;eu_orders.csv&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> eu_file<span style="color:#f92672">.</span>exists():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Processing </span><span style="color:#e6db74">{</span>eu_file<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74"> (EU locale)...&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        records <span style="color:#f92672">=</span> process_csv(eu_file, date_format<span style="color:#f92672">=</span>DateFormat<span style="color:#f92672">.</span>EU)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  Loaded </span><span style="color:#e6db74">{</span>len(records)<span style="color:#e6db74">}</span><span style="color:#e6db74"> records&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> records:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  First record: </span><span style="color:#e6db74">{</span>records[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  Error: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><p>Let me verify it works:</p>
<pre tabindex="0"><code>$ python csv_processor.py

Processing us_sales.csv (US locale)...
  Loaded 5 records
  First record: {&#39;id&#39;: &#39;1&#39;, &#39;product&#39;: &#39;Widget A&#39;,
                 &#39;date&#39;: datetime(2024, 1, 5, 0, 0), &#39;amount&#39;: &#39;150.00&#39;}

Processing eu_orders.csv (EU locale)...
  Loaded 5 records
  First record: {&#39;order_id&#39;: &#39;EU-001&#39;, &#39;customer&#39;: &#39;M√ºller GmbH&#39;,
                 &#39;order_date&#39;: datetime(2024, 1, 5, 0, 0), &#39;total&#39;: &#39;1250.00&#39;}
</code></pre><p>Both files processed correctly. Notice that <code>05/01/2024</code> in the EU file is correctly parsed as January 5th (DD/MM/YYYY), not May 1st.</p>
<div class="insight">
<p>Without the memory from Session 1, I might have just used the same format for both files or tried to &ldquo;auto-detect&rdquo; - which would silently corrupt the EU dates. The pensieve entry reminded me to always be explicit about date formats.</p>
</div>
</div>
<div class="story-turn user">
<div class="role">User</div>
<p>Remember this working solution for EU dates</p>
</div>
<div class="story-turn assistant">
<div class="role">Claude</div>
<p><span class="action">üß† Recording this confirmation to pensieve&hellip;</span></p>
<p>I found the related entry about date parsing. Let me record this confirmation that the pattern works with EU dates, and link it to the existing entry.</p>
<pre tabindex="0"><code>‚úì Entry Recorded:
  ID: 4961b089-3627-4c41-a90d-a8b0e59d5f2f
  Pattern: &#34;Locale-Aware CSV Processing for European Dates&#34;
  Tags: date-parsing, european-dates, locale-handling
  Linked to: Original pattern (augments relationship)
</code></pre><div class="insight">
<p><strong>Knowledge Graph Building:</strong> Notice how this new entry links to the existing Session 1 memory using the &ldquo;augments&rdquo; relationship. This creates a knowledge graph:</p>
<ul>
<li><strong>Original memory:</strong> The principle (explicit locale prevents ambiguity)</li>
<li><strong>This memory:</strong> The practice (confirming it works with EU dates)</li>
<li><strong>Relationship:</strong> &ldquo;augments&rdquo; shows this validates and extends the original pattern</li>
</ul>
<p>When you search with <code>--follow-links</code>, you&rsquo;ll traverse this graph and see both theory AND real-world confirmation together. Much more valuable than isolated memories!</p>
</div>
</div>
</div>
<h2 id="key-takeaways">Key Takeaways</h2>
<p>This session demonstrates two core values of pensieve:</p>
<ol>
<li>
<p><strong>Preventing mistakes</strong> by surfacing relevant past learnings - Claude didn&rsquo;t have to re-discover the date ambiguity problem, it recalled and applied the lesson correctly.</p>
</li>
<li>
<p><strong>Building knowledge graphs</strong> through linked memories - The new EU dates entry augments the original pattern, creating a connected web of knowledge that&rsquo;s more valuable than isolated facts.</p>
</li>
</ol>
<p>Now when Session 3 encounters yet another date format, pensieve will surface BOTH of these related learnings, showing the compounding value of memory over time.</p>


    <nav class="demo-navigation">
        <div class="nav-links">

            <a href="/pensieve/demos/session-1-date-ambiguity/" class="nav-prev">
                ‚Üê Previous: Session 1: Discovering Date Ambiguity
            </a>


            <a href="https://pradeeproark.github.io/pensieve/demos/" class="nav-index">
                All Demos
            </a>


            <a href="/pensieve/demos/session-3-excel-dates/" class="nav-next">
                Next: Session 3: Excel Serial Dates ‚Üí
            </a>

        </div>
    </nav>
</article>

<style>
.demo-navigation {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #e5e7eb;
}

.demo-navigation .nav-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.demo-navigation a {
    padding: 0.75rem 1.25rem;
    text-decoration: none;
    border-radius: 0.5rem;
    transition: all 0.2s;
    font-weight: 500;
}

.demo-navigation .nav-prev,
.demo-navigation .nav-next {
    background-color: #f3f4f6;
    color: #374151;
    flex: 1;
    min-width: 200px;
}

.demo-navigation .nav-prev:hover,
.demo-navigation .nav-next:hover {
    background-color: #e5e7eb;
}

.demo-navigation .nav-index {
    background-color: #3b82f6;
    color: white;
}

.demo-navigation .nav-index:hover {
    background-color: #2563eb;
}

.demo-navigation .nav-prev {
    text-align: left;
}

.demo-navigation .nav-next {
    text-align: right;
}

@media (max-width: 768px) {
    .demo-navigation .nav-links {
        flex-direction: column;
    }

    .demo-navigation a {
        width: 100%;
        text-align: center;
    }
}
</style>

    </main>
    <footer class="container">
        <p>&copy; 2025 Cittamaya</p>
    </footer>
    <script src="/pensieve/js/chat-animation.js"></script>
</body>
</html>
